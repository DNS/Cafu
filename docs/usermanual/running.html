
<h1 class="sectionedit1" id="running_cafu">Running Cafu</h1>
<div class="level1">

<p>
In order to start Cafu, simply double-click on the <code>Cafu.exe</code> executable file.
This file is in the <code>Cafu-x.y</code> folder that was created during installation.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Running Cafu&quot;,&quot;hid&quot;:&quot;running_cafu&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-189&quot;} -->
<h2 class="sectionedit2" id="the_main_menu">The Main Menu</h2>
<div class="level2">

<p>
<a href="/_detail/usermanual:mainmenu.jpg?id=usermanual%3Arunning" class="media" title="usermanual:mainmenu.jpg"><img src="/_media/usermanual:mainmenu.jpg?w=320&amp;tok=73d6a6" class="mediaright" title="mainmenu.jpg" alt="mainmenu.jpg" width="320" /></a>
</p>

<p>
After starting, the <em>Main Menu</em> appears as shown in the figure.
From here you can configure Cafu&#039;s graphic, audio and control options, start new games, join multiplayer games and even host your own multiplayer server. <em>To start playing immediately just click</em> <span style='color:#0040B3; '>New Game</span><em>, select a map to play and click</em> <span style='color:#0040B3; '>Go!</span> <em>to play this map on your local machine.</em>
For hosting multiplayer games or joining them please read the following sections.
<br style="clear:both" />
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The Main Menu&quot;,&quot;hid&quot;:&quot;the_main_menu&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;190-744&quot;} -->
<h3 class="sectionedit3">New Game</h3>
<div class="level3">

<p>
<a href="/_detail/usermanual:newgame.jpg?id=usermanual%3Arunning" class="media" title="usermanual:newgame.jpg"><img src="/_media/usermanual:newgame.jpg?w=320&amp;tok=83edbe" class="mediaright" title="newgame.jpg" alt="newgame.jpg" width="320" /></a>
</p>

<p>
This dialog allows you to quickly start a new game.
You can choose a map from the list on the left side of the screen. If available a preview screenshot of the map is shown on the right side.
To start the game you just have to click on <span style='color:#0040B3; '>Go!</span> and the the engine will automatically host a local game server with the chosen map and connect you as a client to it.
<br style="clear:both" />
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;New Game&quot;,&quot;hid&quot;:&quot;new_game&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;745-1186&quot;} -->
<h3 class="sectionedit4">Join Online Game</h3>
<div class="level3">

<p>
<a href="/_detail/usermanual:joingame.jpg?id=usermanual%3Arunning" class="media" title="usermanual:joingame.jpg"><img src="/_media/usermanual:joingame.jpg?w=320&amp;tok=3e1029" class="mediaright" title="joingame.jpg" alt="joingame.jpg" width="320" /></a>
</p>

<p>
This dialog lets you join a multiplayer game using the given parameters:
</p>
<ul>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Player name</span> Your player name. Other players see this name when you talk to them.</div>
</li>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Model</span> Your appearance in the game world. Clicking on this control cycles through all available player models (the currently chosen model is shown in the preview windows to the right)</div>
</li>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Remote Host Name</span> The name or the IP of the server that you wish to connect to.</div>
</li>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Remote Port</span> The port number at which the server is listening on the remote host.</div>
</li>
</ul>

<p>
Clicking <span style='color:#0040B3; '>Connect</span> will attempt to connect you to the chosen server and the game will start if connecting was successful.
<br style="clear:both" />
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Join Online Game&quot;,&quot;hid&quot;:&quot;join_online_game&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1187-2004&quot;} -->
<h3 class="sectionedit5">Host Game Server</h3>
<div class="level3">

<p>
<a href="/_detail/usermanual:hostgame.jpg?id=usermanual%3Arunning" class="media" title="usermanual:hostgame.jpg"><img src="/_media/usermanual:hostgame.jpg?w=320&amp;tok=20f0c9" class="mediaright" title="hostgame.jpg" alt="hostgame.jpg" width="320" /></a>
This dialog lets you start and configure a multiplayer server.
</p>
<ul>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Map Name</span> The map hosted on the server. Clicking on this box cycles through all available maps (a preview of the currently chosen map is shown on the right).</div>
</li>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Local Server Port</span> The port number at which your server will listening for incoming connections. </div>
</li>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Play on this machine</span> This box lets you choose whether you want to play on the server yourself or just start a stand alone server.</div>
</li>
</ul>

<p>
The following two options are only relevant if you have chosen <span style='color:#0040B3; '>Yes</span> in <span style='color:#0040B3; '>Play on this machine</span>.
</p>
<ul>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Player Name</span> Your player name. Other players see this name when you talk to them.</div>
</li>
<li class="level1"><div class="li"> <span style='color:#0040B3; '>Model</span> Your appearance in the game world. Clicking on this control cycles through all available player models (the currently chosen model is shown in the preview windows to the right).</div>
</li>
</ul>

<p>
Clicking <span style='color:#0040B3; '>Go!</span> will start the game server and optionally connect you to it.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Host Game Server&quot;,&quot;hid&quot;:&quot;host_game_server&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;2005-3152&quot;} -->
<h2 class="sectionedit6" id="keyboard_layout">Keyboard Layout</h2>
<div class="level2">

<p>
In order to control the player and operate the game, you can use the keys as shown in the table below.
The demonstrated layout reflects both <em>keyboard-only</em> player control layout and the popular <em>mouse+keyboard</em> player control layout.
The keyboard layout will be made user configurable in future releases.
</p>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Action              </th><th class="col1 leftalign"> Key              </th><th class="col2 leftalign"> Alternative   </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> Move forward        </td><td class="col1 leftalign"> (Arrow up)       </td><td class="col2 leftalign"> <code>W</code>         </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Move back           </td><td class="col1 leftalign"> (Arrow down)     </td><td class="col2 leftalign"> <code>S</code>         </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Turn left           </td><td class="col1 leftalign"> ← (Arrow left)  </td><td class="col2 leftalign"> (Mouse left)  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Turn right          </td><td class="col1"> → (Arrow right) </td><td class="col2"> (Mouse right) </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> Strafe left         </td><td class="col1 leftalign"> <code>A</code>            </td><td class="col2 leftalign"> <code>,</code>         </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> Strafe right        </td><td class="col1 leftalign"> <code>D</code>            </td><td class="col2 leftalign"> <code>.</code>         </td>
	</tr>
	<tr class="row7">
		<th class="col0 leftalign">                     </th><th class="col1 leftalign">                  </th><th class="col2 leftalign">               </th>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> Jump                </td><td class="col1 leftalign"> <code>SPACE</code>        </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> Walk                </td><td class="col1 leftalign"> <code>R_SHIFT</code>      </td><td class="col2 leftalign"> <code>L_SHIFT</code>   </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> Run (even faster)   </td><td class="col1 leftalign"> <code>R_CTRL</code>       </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row11">
		<th class="col0 leftalign">                     </th><th class="col1 leftalign">                  </th><th class="col2 leftalign">               </th>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> Look up             </td><td class="col1 leftalign"> <code>PAGE UP</code>      </td><td class="col2 leftalign"> (Mouse up)    </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> Look down           </td><td class="col1 leftalign"> <code>PAGE DOWN</code>    </td><td class="col2 leftalign"> (Mouse down)  </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> Look banked CW      </td><td class="col1 leftalign"> <code>HOME</code>         </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> Look banked CCW     </td><td class="col1 leftalign"> <code>INSERT</code>       </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row16">
		<td class="col0"> Look straight ahead </td><td class="col1 leftalign"> <code>END</code>          </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row17">
		<th class="col0 leftalign">                     </th><th class="col1 leftalign">                  </th><th class="col2 leftalign">               </th>
	</tr>
	<tr class="row18">
		<td class="col0 leftalign"> Talk / Chat         </td><td class="col1 leftalign"> <code>T</code>            </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row19">
		<td class="col0 leftalign"> Toggle Console      </td><td class="col1 leftalign"> <code>F1</code>           </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row20">
		<td class="col0 leftalign"> Screen-shot         </td><td class="col1 leftalign"> <code>F5</code>           </td><td class="col2 leftalign">               </td>
	</tr>
	<tr class="row21">
		<td class="col0 leftalign"> Quit program        </td><td class="col1 leftalign"> <code>ESC</code>          </td><td class="col2 leftalign">               </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;3493-4790&quot;} -->
<p>
Keyboard layout for player control and game operations.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Keyboard Layout&quot;,&quot;hid&quot;:&quot;keyboard_layout&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;3153-4849&quot;} -->
<h2 class="sectionedit8" id="the_command_console">The Command Console</h2>
<div class="level2">

<p>
In order to activate or deactivate the in-game console, press the <code>F1</code> key.
</p>

<p>
The large upper area of the window shows the console output of any component or subsystem of Cafu.
The “Close” button in the lower right corner closes the console window again, bringing you back to the game. Other options to close the console window include pressing the <code>F1</code> or <code>ESC</code> key.
The “Clear” button clears the contents of the console output window.
</p>

<p>
The text input field in the lower left is used for entering console commands.
Note that the <code>TAB</code> key command-completion feature is available to facilitate text entry.
The up and down arrow keys navigate through the command history for repeating previously entered commands.
</p>

<p>
Technically, the console interpreter is actually an instance of a <a href="http://www.lua.org/" class="urlextern" title="http://www.lua.org/" rel="nofollow">Lua</a> program in interactive mode. The Cafu engine binds its console variables and functions to that program so that they can be accessed like any other native Lua value. You may want to refer to the <a href="http://www.lua.org/docs.html" class="urlextern" title="http://www.lua.org/docs.html" rel="nofollow">Lua documentation</a> to learn more about the language Lua and its possibilities. The fact that you can write entire Lua programs at the Cafu in-game console provides great customizability and flexibility for both game developers and users.
</p>

<p>
Nonetheless, the Cafu console can also be used without any prior Lua knowledge, or any programming knowledge at all.
Here are some getting-started examples that demonstrate the basic usage:
</p>

<p>
Entering the command
</p>
<pre class="code lua">    help<span class="br0">&#40;</span><span class="br0">&#41;</span></pre>

<p>
prints out a short help text with instructions on how to obtain more help and the list of all available commands. Note that <code>help()</code> is actually a function call and therefore the brackets are mandatory.
</p>
<pre class="code lua">    list<span class="br0">&#40;</span><span class="br0">&#41;</span></pre>

<p>
lists all available Cafu console functions, console variables, and global Lua values. As such, the <code>list()</code> function is useful to look-up the available commands. Note that the <code>TAB</code> key for command-completion serves a similar purpose, but the <code>list()</code> function provides more information about the values and the output is formatted.
</p>
<pre class="code lua">    help<span class="br0">&#40;</span><span class="st0">&quot;quit&quot;</span><span class="br0">&#41;</span>
    list<span class="br0">&#40;</span><span class="st0">&quot;cl&quot;</span><span class="br0">&#41;</span></pre>

<p>
The <code>help(“quit”)</code> function call provides help specific for the <code>quit</code> console variable, including a description of its purpose. This works analogously with any other console command, too.
The <code>list(“cl”)</code> call works like the normal <code>list()</code>, but restricts the output to values that begin with the string <code>“cl”</code>.
</p>
<pre class="code lua">    screenSuffix<span class="sy0">=</span><span class="st0">&quot;png&quot;</span></pre>

<p>
sets the value of the console variable <code>screenSuffix</code> to <code>png</code>. Use this when you want to save your screenshots in <code>png</code> image file format instead of the default <code>jpg</code>. Enter <code>help(“screenSuffix”)</code> for more information about the <code>screenSuffix</code> console variable.
</p>
<pre class="code lua">    rcon<span class="br0">&#40;</span><span class="st0">&quot;changeLevel('filename')&quot;</span><span class="br0">&#41;</span></pre>

<p>
<code>rcon</code> is the abbreviation for “remote console”.
It means that the rest of the line is not processed by the local client, but rather sent to the remote server console.
Therefore, this line instructs the server to initiate a level (world) change.
</p>

<p>
Pressing the <code>F1</code> key deactivates the console and brings you back to the game.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The Command Console&quot;,&quot;hid&quot;:&quot;the_command_console&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;4850-8059&quot;} -->
<h3 class="sectionedit9">The config.lua File</h3>
<div class="level3">

<p>
When <code>Cafu.exe</code> starts up, it automatically processes the <code>config.lua</code> file.
The <code>config.lua</code> file is located in the Cafu base directory.
It is run in the context of the in-game console and can therefore contain any statement that you could also enter interactively as described above.
Because the <code>config.lua</code> file is processed early during engine initialization, it is the ideal place to
set default values and to keep any console statements that you find yourself entering over and over again.
You can also define new functions or convenient abbreviations, and in fact, a complete, full-featured Lua program can be written into this file, either by the user, the game developer, or both.
Just have a look into the <code>config.lua</code> file in the Cafu base directory to see some examples.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The config.lua File&quot;,&quot;hid&quot;:&quot;the_configlua_file&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:9,&quot;range&quot;:&quot;8060-&quot;} -->