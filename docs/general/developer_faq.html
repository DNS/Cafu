
<h1 class="sectionedit1" id="developer_faq">Developer FAQ</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Developer FAQ&quot;,&quot;hid&quot;:&quot;developer_faq&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-29&quot;} -->
<h2 class="sectionedit2">Is Cafu right for our game of genre &quot;...&quot;?</h2>
<div class="level2">

<p>
Variants of this question include:
</p>
<ul>
<li class="level1"><div class="li"> Can we use Cafu to make a <a href="https://en.wikipedia.org/wiki/Massively_multiplayer_online_role-playing_game" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Massively_multiplayer_online_role-playing_game">MMORPG</a>?</div>
</li>
<li class="level1"><div class="li"> Is Cafu fit for our 3D strategy game?</div>
</li>
<li class="level1"><div class="li"> Will we able to implement our car racing game with Cafu?</div>
</li>
</ul>

<p>
While we would love to provide you with a clear and authoritative “yes” or “no” answer to these questions, that is easier said than done:
</p>

<p>
When you ask one of these questions, you usually have a clear mental image already on how your game should look like – an image that we don&#039;t have, because often we know way too little about your project: your plans, your team, your skills (modelling, mapping, scripting, programming, …), your deadlines, etc. Not knowing what you <em>really</em> want and if you&#039;re ready to – for example – writing material shaders or making changes to the C++ source code is what makes this question difficult to answer.
</p>

<p>
However, there is an alternative that is much better than any statement we could make:
Familiarize yourself with Cafu, try it yourself, and evaluate if it is right for your needs.
</p>

<p>
For example, download and run the latest demo. Explore the TechDemo map. Then try making a small map of your own, or edit one of the included maps in the editor. Browse the scripts and source code. If there are problems or questions, <a href="http://www.cafu.de/developers" class="urlextern" title="http://www.cafu.de/developers" rel="nofollow">ask</a>.
</p>

<p>
Not only will you become familiar with the Cafu details, you will also be able to form a very competent opinion about Cafu&#039;s suitability for your project.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Is Cafu right for our game of genre \&quot;...\&quot;?&quot;,&quot;hid&quot;:&quot;is_cafu_right_for_our_game_of_genre&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;30-1574&quot;} -->
<h2 class="sectionedit3" id="where_are_the_visual_studio_project_files">Where are the Visual Studio project files?</h2>
<div class="level2">

<p>
In the development of Cafu, an important consideration is the build process that turns the source code into executable programs.
This build process is a challenge in its own right, because it must work
</p>
<ul>
<li class="level1"><div class="li"> on all supported platforms (currently Windows and Linux, soon MacOS, too),</div>
</li>
<li class="level1"><div class="li"> with several compilers (and several versions of each),</div>
</li>
<li class="level1"><div class="li"> in several variants (32- and 64-bit; debug, profile and release),</div>
</li>
<li class="level1"><div class="li"> possibly with multiple combinations of the above, simultaneously on the same computer,</div>
</li>
<li class="level1"><div class="li"> with all external libraries,</div>
</li>
<li class="level1"><div class="li"> in changing environments (e.g. variable number of game libraries),</div>
</li>
<li class="level1"><div class="li"> flexibly, robustly and easily configurable for our fellow developers and users.</div>
</li>
</ul>

<p>
Achieving these goals with Visual Studio solution files on Windows (and possibly Makefiles on Linux) is a maintenance nightmare that borders on the impossible. For these reasons, we have chosen to use <a href="http://www.scons.org/" class="urlextern" title="http://www.scons.org/" rel="nofollow">SCons</a> as the build system for the Cafu Engine. SCons meets the above requirements, and it can still be used automatically and conveniently from most <a href="/cppdev:ides#ides_and_text_editors" class="wikilink1" title="cppdev:ides">IDEs and Text Editors</a>.
</p>

<p>
Alas, we realize that having true Visual Studio project and solution files (and similar native files for other IDEs) would still be nice to have. We therefore started looking into these programs:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://industriousone.com/premake" class="urlextern" title="http://industriousone.com/premake" rel="nofollow">Premake</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/vslavik/bakefile" class="urlextern" title="https://github.com/vslavik/bakefile" rel="nofollow">Bakefile</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.cmake.org" class="urlextern" title="http://www.cmake.org" rel="nofollow">CMake</a></div>
</li>
</ul>

<p>
These all look very promising, but each has problems of its own, and until today nobody ever finished a complete, working solution. If you would like to help improving the situation, it would be very welcome. Until then, please use one of the solutions described in <a href="/cppdev:ides#ides_and_text_editors" class="wikilink1" title="cppdev:ides">IDEs and Text Editors</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Where are the Visual Studio project files?&quot;,&quot;hid&quot;:&quot;where_are_the_visual_studio_project_files&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1575-3333&quot;} -->
<h2 class="sectionedit4">What is the maximum number of network players?</h2>
<div class="level2">

<p>
There is no hard limit built into Cafu, but the general rule is that in the worst case, updates of everyone must be distributed over the network to everyone else. That means that the overall network load (on the server) roughly climbs with the number of players squared.
</p>

<p>
Fortunately, the Cafu network code is able to cut the network load significantly in many cases:
</p>
<ul>
<li class="level1"><div class="li"> Each network message is very small from the beginning, and additionally compressed.</div>
</li>
<li class="level1"><div class="li"> The Cafu server knows “who can (potentially) see who”, and optimizes all cases where updates would be sent that cannot be observed by the receiving client.</div>
</li>
</ul>

<p>
With these features, Cafu can handle a large number of players in a single level all at the same time. We have demonstrated that connecting 8 clients over the internet is possible without problems (and with some bandwidth left) – and that was several years ago over a slow ISDN (64 kbit/s) Internet connection.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;What is the maximum number of network players?&quot;,&quot;hid&quot;:&quot;what_is_the_maximum_number_of_network_players&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;3334-4324&quot;} -->
<h2 class="sectionedit5">How can I clone the Cafu source code repository?</h2>
<div class="level2">



<p>
You can  clone the Cafu source code repository like this:
</p>
<pre class="code bash"><span class="sy0">&gt;</span> <span class="kw2">git clone</span> <span class="re5">--recursive</span> https:<span class="sy0">//</span>bitbucket.org<span class="sy0">/</span>cafu<span class="sy0">/</span>cafu.git Cafu</pre>

<p>
Also see <a href="/cppdev:gettingstarted#getting_started_with_the_cafu_source_code" class="wikilink1" title="cppdev:gettingstarted">Getting Started with the Cafu Source Code</a> for more details and <a href="https://bitbucket.org/cafu/cafu" class="urlextern" title="https://bitbucket.org/cafu/cafu" rel="nofollow">https://bitbucket.org/cafu/cafu</a>, where you can browse the repository online, create forks, submit pull requests, and find additional help texts.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How can I clone the Cafu source code repository?&quot;,&quot;hid&quot;:&quot;how_can_i_clone_the_cafu_source_code_repository&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;4325-4947&quot;} -->
<h2 class="sectionedit6">How do I start a new game (MOD) project?</h2>
<div class="level2">

<p>
This is now explained in its own section in the documentation:
See <a href="/cppdev:startnewgame#starting_your_own_game" class="wikilink1" title="cppdev:startnewgame">Starting your own Game</a> for details.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How do I start a new game (MOD) project?&quot;,&quot;hid&quot;:&quot;how_do_i_start_a_new_game_mod_project&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;4948-5107&quot;} -->
<h2 class="sectionedit7" id="how_do_i_dynamically_reload_the_map_script_in-game">How do I dynamically reload the map script in-game?</h2>
<div class="level2">

<p>
While you&#039;re developing a script for one of your maps, it can be a very helpful shortcut to reload the map script while the game is running, without interrupting it. This avoids the normally required cycle of leaving and re-starting the map.
</p>

<p>
As a preparatory step, add a function like this to your map script:
</p>
<pre class="code lua"><span class="co1">-- This function reloads and runs this script again.</span>
<span class="co1">-- It is useful for working with and testing the script &quot;online&quot;,</span>
<span class="co1">-- i.e. while the game is running and without reloading the map!</span>
<span class="kw1">function</span> reloadScript<span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="co1">-- Adjust the path in the next line as required!</span>
    <span class="kw3">dofile</span><span class="br0">&#40;</span><span class="st0">&quot;Games/DeathMatch/Worlds/BPWxBeta.lua&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    Console<span class="sy0">.</span>Print<span class="br0">&#40;</span><span class="st0">&quot;Reloaded the map script.<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">end</span></pre>

<p>
Then, at the <a href="/usermanual:running#the_command_console" class="wikilink1" title="usermanual:running">Cafu in-game console</a>, enter
</p>
<pre class="code lua">runMapCmd<span class="br0">&#40;</span><span class="st0">'reloadScript()'</span><span class="br0">&#41;</span></pre>

<p>
to dynamically reload the script.
</p>

<p>
In theory, you could combine these two steps into one, using something like <code>runMapCmd(&#039;dofile(“…”)&#039;)</code>, but that is even harder to type than the version above, and less flexible. (We realize that the entire <code>runMapCmd(…)</code> business is not optimal. Suggestions for making this more convenient are welcome.)
</p>

<p>
Note that if you use this technique, it can be helpful (but is not required) to understand how it works: The map script “lives” inside a Lua state that is initialized together with the map. (The in-game console has an entirely separate Lua state, which is why <code>runMapCmd(…)</code> is needed.) The above commands essentially run <code>dofile(…)</code> in the context of the maps Lua state, which in turn re-runs the map script.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How do I dynamically reload the map script in-game?&quot;,&quot;hid&quot;:&quot;how_do_i_dynamically_reload_the_map_script_in-game&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:7,&quot;range&quot;:&quot;5108-6768&quot;} -->
<h2 class="sectionedit8">Where can I learn more about 3D programming or game engines?</h2>
<div class="level2">

<p>
There are many available resources regarding 3D engines and related their subjects, both online and offline in the form of traditional books and papers. The following list is neither complete nor up-to-date, but we hope that it serves as a starting point for your own investigations into the matter:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://nehe.gamedev.net" class="urlextern" title="http://nehe.gamedev.net" rel="nofollow">NeHe OpenGL Tutorials</a> <br/>
Excellent OpenGL tutorials for beginners to the advanced.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="http://www.opengl.org" class="urlextern" title="http://www.opengl.org" rel="nofollow">http://www.opengl.org</a> <br/>
The official OpenGL website, and the first place to search for information about OpenGL.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="http://graphics.lcs.mit.edu/~seth/pubs/pubs.html" class="urlextern" title="http://graphics.lcs.mit.edu/~seth/pubs/pubs.html" rel="nofollow">&quot;Visibility Computations in Densely Occluded Polyhedral Environments&quot; (1992)</a> <br/>
Seth Teller&#039;s dissertation about Potentially Visibility Sets (PVS): a common data structure in modern 3D engines that speeds up rendering.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="http://www.faqs.org/faqs/graphics/bsptree-faq" class="urlextern" title="http://www.faqs.org/faqs/graphics/bsptree-faq" rel="nofollow">BSP-FAQs</a> <br/>
Introductory information about BSP trees.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> “Computer Graphics, Principles and Practice” by Foley, vanDam, Feiner &amp; Hughes. <br/>
Some say this is the bible of computer graphics – and it&#039;s true. It covers nearly everything there is to know. An excellent reference, but have a look into the table of contents before buying it.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> “Radiosity and Realistic Image Synthesis”, Michael F. Cohen and John R. Wallace. Morgan Kaufmann Publishers, Inc., San Francisco, California.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> “Radiosity. A programmers perspective.”, Ian Ashdown. John Wiley &amp; Sons, Inc., New York, N.Y.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> “Zen of Graphics Programming, 2nd edition” by Michael Abrash. <br/>
Most of this book is about low level DOS graphics programming (outdated now, but good nonetheless). The final chapters are a collection of Abrash&#039;s articles that appeared in the “Dr. Dobbs SourceBooks” series. They contain information about BSP trees, span sorting, etc.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="http://www.parashift.com/c++-faq-lite/" class="urlextern" title="http://www.parashift.com/c++-faq-lite/" rel="nofollow">C++ FAQs</a> by Cline, Lomow, and Girou; Addison-Wesley. Available <a href="http://www.parashift.com/c++-faq-lite/" class="urlextern" title="http://www.parashift.com/c++-faq-lite/" rel="nofollow">online</a> and <a href="http://www.parashift.com/c++-faq-lite/faq-book.html" class="urlextern" title="http://www.parashift.com/c++-faq-lite/faq-book.html" rel="nofollow">as a book</a>.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> “Effective C++, Third Edition” by <a href="http://www.aristeia.com/books.html" class="urlextern" title="http://www.aristeia.com/books.html" rel="nofollow">Scott Meyers</a>.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="http://en.wikipedia.org/wiki/The_C%2B%2B_Programming_Language" class="urlextern" title="http://en.wikipedia.org/wiki/The_C%2B%2B_Programming_Language" rel="nofollow">The C++ Programming Language</a> by Bjarne Stroustrup.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> “Programming in Lua, Second Edition” by Roberto Ierusalimschy. The first edition of this book is also available <a href="http://www.lua.org/pil/index.html" class="urlextern" title="http://www.lua.org/pil/index.html" rel="nofollow">online</a>.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Where can I learn more about 3D programming or game engines?&quot;,&quot;hid&quot;:&quot;where_can_i_learn_more_about_3d_programming_or_game_engines&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:8,&quot;range&quot;:&quot;6769-&quot;} -->